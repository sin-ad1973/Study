<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>アロー関数</title>
	</head>
<body font size="2">

  <script type="text/javascript">

    window.param = "aaa";
    const obj = {
        param: '1',
        func1: test1(2),
        // TODO 引数無い場合でも()を付けないと中でreturnしている関数の中に入らない
        func2: test2(),
        func3: test3(),
    };

    console.log(this);
    obj.func1();
    obj.func2();
    obj.func3();

    function test1(v) {
        if (v === 1) {
            return () => {
              console.log('test1(arrow): if');
              console.log(this.param);
              console.log('');
            };
        } else {
            return () => {
              console.log('test1(arrow): _else');
              console.log(this.param);
              console.log('');
            };
        }
    }

    function test2() {
        return () => {
            console.log('test2(arrow)');
            console.log(this.param);
            console.log('');
        };
    }

    function test3() {
        return function() {
            console.log('test3(function)');
            console.log(this.param);
            console.log('');
        };
    }
  </script>

  <header>
	<h1>JavaScriptお勉強1</h1>
  </header>


</body>
</html>